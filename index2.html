<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Email & password validation</title>
			<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>

  <script>
    $(document).ready(function(){
        //var check = 0;
        //var flag=0;
        $("#username").keyup(function(){
            if(validUsername()){
                $("#username").css("border","2px solid green");
                $("#username_error").html("valid username");
            }
            else{
                $("#username").css("border","2px solid red");
                $("#username_error").html("invalid username");
            }
        });

        $("#email").keyup(function(){
            if(validateEmail()){
                $("#email").css("border","2px solid green");
                $("#email_error").html("valid email");
               // flag+=1;
            }
            else{
                $("#email").css("border","2px solid red");
                $("#email_error").html("invalid email");
                //flag=0;
                //check=1;
            }
        });
        $("#pwd").keyup(function(){
            if(validatePassword()){
                $("#pwd").css("border","2px solid green");
                $("#pwd_error").html("valid password");
               // flag+=1;
            }
            else{
                $("#pwd").css("border","2px solid red");
                $("#pwd_error").html("password must be between 8 to 15 characters which contain at least one lowercase letter, one uppercase letter, one numeric digit, and one special character");
               // flag=0;
                //check=2;
            }
        });
        $("button").click(function(){
            if(validateEmail() && validatePassword() && validUsername()){
                alert("Sign Up Successful");
            }
            if(!validUsername()){
                $("#username").css("border","2px solid red");
                $("#username_error").html("Enter valid username");
                
            }
            if(!validateEmail()){
                $("#email").css("border","2px solid red");
                $("#email_error").html("Enter valid email");
               // $("#email").focus();
            }
            if(!validatePassword()){
                $("#pwd").css("border","2px solid red");
                $("#pwd_error").html("password must be between 8 to 15 characters which contain at least one lowercase letter, one uppercase letter, one numeric digit, and one special character");
                
            }
            if(!validUsername()){
                $("#username").focus();
            }
            else if(!validateEmail()){
                $("#email").focus();
            }
            else if(!validatePassword()){
                $("#pwd").focus();
            }
             
        });
    });

    function validUsername(){
        var userName=$("#username").val();
        var nameRegex = /^[a-z0-9_-]{5,15}$/;
        if(userName.match(nameRegex)){
            return true;
        }
        else{
            return false;
        }
    }

    function validateEmail(){
        var email=$("#email").val();
        var regex = /^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
        if(email.match(regex)){
            return true;
        }
        else{
            return false;
        }
    }

    function validatePassword(){
        var password=$("#pwd").val();
        var decimal = /^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{8,15}$/;

        if(password.match(decimal)){
            return true;
        }
        else{
            return false;
        }
    }
  </script>

</head>
<body class="bg-primary bg-dark">
    <div class="container">
        <div class="row">
            <div class="col-md-4">
            </div>
            <div class="col-md-4 border shadow-sm bg-light" style="margin-top: 8%; padding: 10px;">
                <form action="">
                    <div class="form-group">
                        <label for="username">Username:</label>
                        <input type="username" class="form-control" name="username" id="username" placeholder="Enter your username">
                        <span id="username_error" style="color: brown;"></span>
                    </div>
                    <div class="form-group">
                        <label for="email">Email:</label>
                        <input type="email" class="form-control" name="email" id="email" placeholder="Enter your email">
                        <span id="email_error" style="color: brown;"></span>
                    </div>
                        <div class="form-group">
                        <label for="pwd">Password:</label>
                        <input type="password" class="form-control" name="pwd" id="pwd" placeholder="Enter your password">
                        <span id="pwd_error" style="color: brown;"></span>
                    </div>
                    <div class="checkbox">
                        <label><input type="checkbox" name="remember me"> Remember me</label>
                    </div>
                    <div class="form-group">
                        <button type="button" class="btn btn-outline-primary" id="btn" style="background-color: rgb(75, 210, 17); color: aliceblue;">Sign Up</button>
                    </div>
                </form>
            </div>
          
        </div>
    </div>
    
</body>
</html>